<% if post.errors.any? %>
  // Render new post form with errors
  $('#new_post').html("<%= j render 'posts/form', user: @user, post: @post %>");
<% else %>
  // Create a paragraph for the new comment. But hide it.
  var new_post = $("<%= j render 'posts/show', post: post %>").hide();
  // Add it to the DOM, at the end of the existing posts. It's still hidden.
  $('#posts').append(new_post);
  // Show the new post with an animation!
  new_post.slideDown();
  // Remove the text from the content textarea.
  $('#post_content').val('');
<% end %>

